<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <title>RSA</title>
        <!--<link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />-->
        <!--<script defer src="https://pyscript.net/alpha/pyscript.js"></script>-->
        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style.css" type="text/css" media="screen" title="no title" charset="utf-8">
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="collapse navbar-collapse justify-content-center" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item">
                <a class="nav-link" href="#" style="font-weight:bold">Das RSA-Verfahren</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="#">Hilfe</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#modal-settings-alice">Einstellungen</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="mx3030.github.io/rsa/skript.pdf" target="_blank">Skript</a>
                </li>
            </ul>
        </div>
        </nav>
        <div class=container-fluid style="">
            <div id="key-container" class="row m-3">
                <div id="key-alice" class="col-4">
                    <div class="text-center mt-2">
                        <button id="button-alice" type="button" class="btn btn-dark w-25" onclick="change_view('alice')">Alice</button>
                        <button id="gen-key-alice" onclick="gen_key('alice')" type="button" class="btn btn-dark">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                            <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
                            </svg>
                        </button>
                        <button id="gen-key-alice" type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#modal-settings-alice" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-sliders2" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5ZM12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5ZM1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8Zm9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5Zm1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
                            </svg>                        
                        </button>
                    </div>
                    <div class="row my-2">
                        <div id="key-0"class="col-5 border rounded mx-auto">
                            <div class="text-center my-2">
                                <span>privater Schlüssel</span>
                            </div>
                            <div class="text-center m-2" style=""> 
                                <img src="img/tresor.png" class="rounded" onclick="select_key(0)" style="width:50%">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <button class="btn btn-outline-secondary text-dark" onclick="update_modal_private_n_alice()" data-bs-toggle="modal" data-bs-target="#exampleModal" type="button" id="button-addon1">n=</button>
                                <input id="private-n-alice" type="text" class="form-control border border-secondary" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">d=</span>
                                <input id="private-d-alice" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div id="key-1" class="col-5 border rounded mx-auto">
                            <div class="text-center my-2">
                                <span>öffentlicher Schlüssel</span>
                            </div>
                            <div class="text-center m-2" style=""> 
                                <img src="img/key.png" class="rounded" onclick="select_key(1)" style="width:50%">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">n=</span>
                                <input id="public-n-alice" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">e=</span>
                                <input id="public-e-alice" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                        </div>
                    </div>
                </div>
                <div class=col-4>
                    <div class="text-center mt-2">
                        <button id="button-oscar" type="button" class="btn btn-dark" onclick="change_view('oscar')">Oscar</button>
                    </div>
                    <div class="row my-2">
                        <div class="text-center" style=""> 
                            <img src="img/hacker3.png" class="rounded" style="width:100%">
                        </div>     
                    </div>
                </div>
                <div class="col-4">
                    <div class="text-center mt-2">
                        <button id="button-bob" type="button" class="btn btn-dark w-25" onclick="change_view('bob')">Bob</button>
                        <button type="button" class="btn btn-dark" onclick="gen_key('bob')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                            <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
                            </svg>
                        </button>
                        <button id="gen-key-alice" type="button" class="btn btn-dark">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-sliders2" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5ZM12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5ZM1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8Zm9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5Zm1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
                            </svg>                        
                        </button>
                    </div>
                    <div class="row my-2">
                        <div id="key-2" class="col-5 border rounded mx-auto">
                            <div class="text-center my-2">
                                <span>öffentlicher Schlüssel</span>
                            </div>
                            <div class="text-center m-2" style=""> 
                                <img src="img/key.png" class="rounded" onclick="select_key(2)" style="width:50%">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">n=</span>
                                <input id="public-n-bob" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">e=</span>
                                <input id="public-e-bob" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div id="key-3" class="col-5 border rounded mx-auto">
                            <div class="text-center my-2">
                                <span>privater Schlüssel</span>
                            </div>
                            <div class="text-center m-2" style=""> 
                                <img src="img/tresor.png" class="rounded" onclick="select_key(3)" style="width:50%">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">n=</span>
                                <input id="private-n-bob" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group m-2 w-75 mx-auto">
                                <span class="input-group-text" id="basic-addon1">d=</span>
                                <input id="private-d-bob" type="text" class="form-control" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div id="msg-container" class="row m-3">
                <div id="col-alice" class="col-4">
                    <div class="m-2">
                        <div class="">
                            <textarea class="form-control rounded-0" placeholder="Nachricht" id="msg-alice" rows="3"></textarea>
                        </div>
                        <div class="btn-group w-100">
                            <div class="w-25 btn-group">
                                <button id="str2num-alice" onclick="msg2int_app('alice')" class="btn btn-outline-dark rounded-0 w-50" type="button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                                    </svg>
                                </button>
                                <button id="num2str-alice" onclick="int2msg_app('alice')" class="btn btn-outline-dark rounded-0 w-50" type="button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
                                    </svg>
                                </button>
                            </div>
                            <button class="btn btn-outline-dark rounded-0 w-50" onclick="use_key('alice')" type="button">Schlüssel anwenden</button>
                            <button class="btn btn-outline-dark rounded-0 w-25" onclick="send_msg('alice')" type="button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>
                                <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="">
                            <textarea class="form-control rounded-0" placeholder="Zahlen" id="num-alice" rows="3"></textarea>
                        </div>
                    </div>

                </div>

                <div id="col-oscar" class="col-4">
                    <div class="m-2">
                        <div class="">
                            <textarea id="inet" class="form-control rounded-0" placeholder="" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <div id="col-bob" class="col-4">
                    <div class="m-2">
                        <div class="">
                            <textarea id="msg-bob" class="form-control rounded-0" placeholder="Nachricht" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                        <div class="btn-group w-100">
                            <button class="btn btn-outline-dark rounded-0 w-25" onclick="send_msg('bob')" type="button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                                </svg>
                            </button>
                            <button class="btn btn-outline-dark rounded-0 w-50" onclick="use_key('bob')" type="button">Schlüssel anwenden</button>
                            <div class="w-25 btn-group"> 
                                <button id="num2str-bob" onclick="int2msg_app('bob')" class="btn btn-outline-dark rounded-0 w-50" type="button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
                                    </svg>
                                </button>
                                <button id="str2num-bob" onclick="msg2int_app('bob')" class="btn btn-outline-dark rounded-0 w-50" type="button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>                        
                        <div class="">
                            <textarea id="num-bob" class="form-control rounded-0" placeholder="Zahlen" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Modal -->
        <div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">n von Alice</h5>
                    </div>
                    <div class="modal-body">
                        <div class="">
                            <textarea id="modal-n-alice" class="form-control rounded-0 shadow-none" placeholder="" rows="3"></textarea>
                        </div>
                        <div class="btn-group w-100">
                            <button class="btn btn-sm btn-light border rounded-0" onclick="convert2bin()" type="button">binär</button>
                            <button class="btn btn-sm btn-light border rounded-0" onclick="convert2hex()" type="button">hex</button>
                            <button class="btn btn-sm btn-light border rounded-0" onclick="convert2dec()" type="button">dezimal</button>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="update_n_alice()" class="btn btn-outline-dark">Anwenden</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal modal-lg" id="modal-settings-alice" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Einstellungen</h5>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3 w-100 justify-content-center"> 
                            <label class="input-group-text" for="inputGroupSelect01">Modus</label>
                            <button class="btn btn-outline-secondary w-25" type="button" onclick="activate_learning()">Lernen</button>
                            <button class="btn btn-outline-secondary w-25" type="button" onclick="activate_reality()">Realität</button>
                        </div> 
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1">Größe der automatisch erzeugten Primzahlen (in Bits)</span>
                            <input id="key-size-alice" type="text" class="form-control" placeholder="32" aria-label="Username" aria-describedby="basic-addon1">
                        </div> 
                        <div class="input-group mb-3">
                            <label class="input-group-text" for="inputGroupSelect01">Zuordnung Buchstaben/Zahlen</label>
                            <select class="form-select" id="inputGroupSelect01">
                                <option value="1">einfache Tabelle (s.h. Skript)</option>
                                <option value="3">ASCII-Tabelle</option>
                                <option value="3">eigene Tabelle</option>
                            </select>
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1">Zerlegung der Nachricht in Blöcke</span>
                            <input type="text" class="form-control" placeholder="4" aria-label="Username" aria-describedby="basic-addon1">
                        </div>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" onclick="update_settings_alice()" class="btn btn-success">Anwenden</button>
                        <button type="button" onclick="close_settings_alice()" class="btn btn-danger">Schließen</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="rsa.js"></script>
        <script src="script.js"></script>
    </body>
</html>
